package matthewallenlinsoftware.downloadingimages;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.AsyncTask;
import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.util.Log;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.ImageView;

import java.io.IOException;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.concurrent.ExecutionException;


public class MainActivity extends ActionBarActivity {

    ImageView downloadImg;

    public void downloadImage(View view) {
        //https://www.google.com/imgres?imgurl=https://upload.wikimedia.org/wikipedia/commons/b/b9/Steve_Jobs_Headshot_2010-CROP.jpg&imgrefurl=https://en.wikipedia.org/wiki/Steve_Jobs&h=3194&w=3259&tbnid=5CFMSgvDaxjJsM:&docid=cvmgKjU7_-0ZBM&ei=UgWBVoyZK8PKjwPIhbC4Bw&tbm=isch&client=safari&ved=0ahUKEwiMiuWbo_7JAhVD5WMKHcgCDHcQMwgxKAAwAA

        ImageDownloader task = new ImageDownloader();
        Bitmap myImage;

        try {
            myImage = task.execute("data:image/jpeg;base64,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").get();

            downloadImg.setImageBitmap(myImage);
        } catch (InterruptedException e) {
            e.printStackTrace();
        } catch (ExecutionException e) {
            e.printStackTrace();
        }

        Log.i("Interaction", "Button Tapped");
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        downloadImg = (ImageView) findViewById(R.id.imageView);

    }

    public class ImageDownloader extends AsyncTask<String, Void, Bitmap> {

        @Override
        protected Bitmap doInBackground(String... urls) {

            try {
                URL url = new URL(urls[0]); //Creating it from the url we pass

                HttpURLConnection connection = (HttpURLConnection) url.openConnection();

                connection.connect();

                InputStream inputStream = connection.getInputStream();

                Bitmap myBitMap = BitmapFactory.decodeStream(inputStream);

                return myBitMap;

            } catch (MalformedURLException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }

            return null;    //In case of an error
        }
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.menu_main, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle action bar item clicks here. The action bar will
        // automatically handle clicks on the Home/Up button, so long
        // as you specify a parent activity in AndroidManifest.xml.
        int id = item.getItemId();

        //noinspection SimplifiableIfStatement
        if (id == R.id.action_settings) {
            return true;
        }

        return super.onOptionsItemSelected(item);
    }
}
